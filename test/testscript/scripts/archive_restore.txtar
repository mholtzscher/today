# Test archive/restore commands
today add 'First entry'
stdout 'Added entry'
today add 'Second entry'
stdout 'Added entry'

today show
stdout '#1 First entry'
stdout '#2 Second entry'

today archive 1 --yes
stdout 'Archived #1'

today show
! stdout '#1 First entry'
stdout '#2 Second entry'

today show --all
stdout '#1 \[archived\] First entry'
stdout '#2 Second entry'

today restore 1
stdout 'Restored #1'

today show
stdout '#1 First entry'

today archive 999 --yes
stdout 'No entry archived'

today restore 999
stdout 'No entry restored'

! today archive 2
stderr 'refusing to prompt on non-tty; pass --yes'
